
<h2 id="AuthenticationException">AuthenticationException</h2>
<p>Exception thrown when authentication fails.
</p>
<h3>Signature</h3>
<p>class AuthenticationException extends <a href="http://php.net/manual/ro/class.exception.php" target="_blank">\Exception</a> </p>
<h2 id="AuthenticationResult">AuthenticationResult</h2>
<p>Encapsulates authentication response
</p>
<h3>Signature</h3>
<p>class AuthenticationResult </p>
<h3>Methods</h3>
<table>
    <thead>
        <tr>
            <td>Method</td>
            <td>Arguments</td>
            <td>Returns</td>
            <td>Description</td>
        </tr>
    </thead>
    <tbody>

        <tr>
            <td>__construct</td>
            <td><i><a href="#AuthenticationResultStatus">AuthenticationResultStatus</a></i> $status
            </td>
            <td>
            </td>
            <td>
                Saves authentication result encapsulated by AuthenticationResultStatus enum


            </td>
        </tr>
        <tr>
            <td>getStatus</td>
            <td>
            </td>
            <td><i><a href="#AuthenticationResultStatus">AuthenticationResultStatus</a></i>
            </td>
            <td>
                Gets authentication status.

            </td>
        </tr>
        <tr>
            <td>setCallbackURI</td>
            <td><i>string</i> $callbackURI
            </td>
            <td>
            </td>
            <td>
                Sets callback URL.


            </td>
        </tr>
        <tr>
            <td>getCallbackURI</td>
            <td>
            </td>
            <td><i>string</i>
            </td>
            <td>
                Gets callback URI

            </td>
        </tr>
        <tr>
            <td>setUserID</td>
            <td><i>mixed</i> $userID
            </td>
            <td>
            </td>
            <td>
                Sets user unique identifier


            </td>
        </tr>
        <tr>
            <td>getUserID</td>
            <td>
            </td>
            <td><i>mixed</i>
            </td>
            <td>
                Gets user unique identifier.


            </td>
        </tr>
    </tbody>
</table>
<h2 id="AuthenticationResultStatus">AuthenticationResultStatus</h2>
<p>Enum that contains all available authentication result statuses via following constants:

<ul><li>LOGIN_OK: login was successful</li><li>LOGIN_FAILED: login was unsuccessful (eg: password was wrong)</li><li>LOGOUT_OK: logout was successful</li><li>LOGOUT_FAILED: logout was unsuccessful (eg: user wasn't logged in)</li><li>DEFERRED: login was deferred to a third party provider (eg: oauth2)</li></ul></p>
<h3>Signature</h3>
<p>interface AuthenticationResultStatus </p>
<h2 id="AuthorizationException">AuthorizationException</h2>
<p>Exception thrown on authorization errors.
</p>
<h3>Signature</h3>
<p>class AuthorizationException extends <a href="http://php.net/manual/ro/class.exception.php" target="_blank">\Exception</a> </p>
<h2 id="AuthorizationResult">AuthorizationResult</h2>
<p>Encapsulates request authorization results.
</p>
<h3>Signature</h3>
<p>class AuthorizationResult </p>
<h3>Methods</h3>
<table>
    <thead>
        <tr>
            <td>Method</td>
            <td>Arguments</td>
            <td>Returns</td>
            <td>Description</td>
        </tr>
    </thead>
    <tbody>

        <tr>
            <td>__construct</td>
            <td><i><a href="#AuthorizationResultStatus">AuthorizationResultStatus</a></i> $status,<br/><i>string</i> $callbackURI
            </td>
            <td>
            </td>
            <td>
                Saves authorization result encapsulated by AuthorizationResultStatus enum along with callback URI


            </td>
        </tr>
        <tr>
            <td>getStatus</td>
            <td>
            </td>
            <td><i><a href="#AuthorizationResultStatus">AuthorizationResultStatus</a></i>
            </td>
            <td>
                Gets authorization status.

            </td>
        </tr>
        <tr>
            <td>getCallbackURI</td>
            <td>
            </td>
            <td><i>string</i>
            </td>
            <td>
                Gets callback URI

            </td>
        </tr>
    </tbody>
</table>
<h2 id="AuthorizationResultStatus">AuthorizationResultStatus</h2>
<p>Enum that contains all available authorization statuses via following constants:

<ul><li>OK: authorization was successful</li><li>UNAUTHORIZED: authorization failed because user is not authenticated</li><li>FORBIDDEN: authorization failed because authenticated user is not allowed access to requested resource</li><li>NOT_FOUND: authorization failed because no authorization policy could be found for requested resource</li></ul></p>
<h3>Signature</h3>
<p>interface AuthorizationResultStatus </p>
<h2 id="DAOAuthentication">DAOAuthentication</h2>
<p>Encapsulates authentication via data sent by POST through a html form
</p>
<h3>Signature</h3>
<p>class DAOAuthentication </p>
<h3>Methods</h3>
<table>
    <thead>
        <tr>
            <td>Method</td>
            <td>Arguments</td>
            <td>Returns</td>
            <td>Description</td>
        </tr>
    </thead>
    <tbody>

        <tr>
            <td>__construct</td>
            <td><i><a href="#UserAuthenticationDAO">UserAuthenticationDAO</a></i> $dao,<br/><i>PersistenceDriver[]</i> $persistenceDrivers
            </td>
            <td>
            </td>
            <td>
                Creates a form authentication object.

<p class="throws">Throws <i><a href="#AuthenticationException">AuthenticationException</a></i>: If one of persistenceDrivers entries is not a PersistentDriver</p>
            </td>
        </tr>
        <tr>
            <td>login</td>
            <td><i>string</i> $username,<br/><i>string</i> $password,<br/><i>null|boolean</i> $rememberMe
            </td>
            <td><i><a href="#AuthenticationResult">AuthenticationResult</a></i>
            </td>
            <td>
                Performs a login operation:
- queries DAO for an user id based on credentials
- saves user_id in persistence drivers (if any)

<p class="throws">Throws <i><a href="#AuthenticationException">AuthenticationException</a></i>: If POST parameters are invalid.</p>
            </td>
        </tr>
        <tr>
            <td>logout</td>
            <td>
            </td>
            <td><i><a href="#AuthenticationResult">AuthenticationResult</a></i>
            </td>
            <td>
                Performs a logout operation:
- informs DAO that user has logged out
- removes user id from persistence drivers (if any)


            </td>
        </tr>
    </tbody>
</table>
<h2 id="DAOAuthorization">DAOAuthorization</h2>
<p>Encapsulates request authorization via DAOs.
</p>
<h3>Signature</h3>
<p>class DAOAuthorization </p>
<h3>Methods</h3>
<table>
    <thead>
        <tr>
            <td>Method</td>
            <td>Arguments</td>
            <td>Returns</td>
            <td>Description</td>
        </tr>
    </thead>
    <tbody>

        <tr>
            <td>__construct</td>
            <td><i>string</i> $loggedInFailureCallback,<br/><i>string</i> $loggedOutFailureCallback
            </td>
            <td>
            </td>
            <td>
                Creates an object


            </td>
        </tr>
        <tr>
            <td>authorize</td>
            <td><i><a href="#PageAuthorizationDAO">PageAuthorizationDAO</a></i> $page,<br/><i><a href="#UserAuthorizationDAO">UserAuthorizationDAO</a></i> $user,<br/><i>string</i> $httpRequestMethod
            </td>
            <td><i><a href="#AuthorizationResult">AuthorizationResult</a></i>
            </td>
            <td>
                Performs an authorization task


            </td>
        </tr>
    </tbody>
</table>
<h2 id="EncryptionException">EncryptionException</h2>
<p>Exception thrown when an attempt is made to encrypt/decrypt an invalid token.
</p>
<h3>Signature</h3>
<p>class EncryptionException extends <a href="#SecurityException">SecurityException</a> </p>
<h2 id="JsonWebTokenPayload">JsonWebTokenPayload</h2>
<p>* Encapsulates a JSON Web Token payload. More info:
* https://azure.microsoft.com/en-us/documentation/articles/active-directory-token-and-claims/
</p>
<h3>Signature</h3>
<p>class JsonWebTokenPayload </p>
<h3>Methods</h3>
<table>
    <thead>
        <tr>
            <td>Method</td>
            <td>Arguments</td>
            <td>Returns</td>
            <td>Description</td>
        </tr>
    </thead>
    <tbody>

        <tr>
            <td>__construct</td>
            <td><i>string[string]</i> $data
            </td>
            <td>
            </td>
            <td>
                Encapsulates JWT data received from client


            </td>
        </tr>
        <tr>
            <td>setIssuer</td>
            <td><i>string</i> $value
            </td>
            <td>
            </td>
            <td>
                Sets security token service (STS) that issued the JWT.

            </td>
        </tr>
        <tr>
            <td>getIssuer</td>
            <td>
            </td>
            <td><i>string</i>
            </td>
            <td>
                Gets security token service (STS) that issued the JWT.

            </td>
        </tr>
        <tr>
            <td>setSubject</td>
            <td><i>mixed</i> $userID
            </td>
            <td>
            </td>
            <td>
                Sets user of an application of JWT.

            </td>
        </tr>
        <tr>
            <td>getSubject</td>
            <td>
            </td>
            <td><i>string</i>
            </td>
            <td>
                Gets user of JWT.

            </td>
        </tr>
        <tr>
            <td>setAudience</td>
            <td><i>string</i> $value
            </td>
            <td>
            </td>
            <td>
                Sets recipients (site) that the JWT is intended for.

            </td>
        </tr>
        <tr>
            <td>getAudience</td>
            <td>
            </td>
            <td><i>string</i>
            </td>
            <td>
                Gets recipients (site) that the JWT is intended for.

            </td>
        </tr>
        <tr>
            <td>setEndTime</td>
            <td><i>integer</i> $value
            </td>
            <td>
            </td>
            <td>
                Sets time by which token expires.

            </td>
        </tr>
        <tr>
            <td>getEndTime</td>
            <td>
            </td>
            <td><i>integer</i>
            </td>
            <td>
                Gets time by which token expires.

            </td>
        </tr>
        <tr>
            <td>setStartTime</td>
            <td><i>integer</i> $value
            </td>
            <td>
            </td>
            <td>
                Sets time by which token starts.

            </td>
        </tr>
        <tr>
            <td>getStartTime</td>
            <td>
            </td>
            <td><i>integer</i>
            </td>
            <td>
                Gets time by which token starts.

            </td>
        </tr>
        <tr>
            <td>setIssuedTime</td>
            <td><i>integer</i> $value
            </td>
            <td>
            </td>
            <td>
                Sets time when token was issued.

            </td>
        </tr>
        <tr>
            <td>getIssuedTime</td>
            <td>
            </td>
            <td><i>integer</i>
            </td>
            <td>
                Gets time by which token was issued.

            </td>
        </tr>
        <tr>
            <td>setApplicationId</td>
            <td><i>string</i> $value
            </td>
            <td>
            </td>
            <td>
                Sets application that is using the token to access a resource.

            </td>
        </tr>
        <tr>
            <td>getApplicationId</td>
            <td>
            </td>
            <td><i>string</i>
            </td>
            <td>
                Gets unique token identifier amidst multiple issuers.

            </td>
        </tr>
        <tr>
            <td>setCustomClaim</td>
            <td><i>string</i> $name,<br/><i>string</i> $value
            </td>
            <td>
            </td>
            <td>
                Sets custom payload parameter not among those specified in https://tools.ietf.org/html/rfc7519#section-4.1


            </td>
        </tr>
        <tr>
            <td>getCustomClaim</td>
            <td><i>string</i> $name
            </td>
            <td><i>string</i>
            </td>
            <td>
                Gets value of custom payload parameter or null if not found.


            </td>
        </tr>
        <tr>
            <td>toArray</td>
            <td>
            </td>
            <td><i>string[string]</i>
            </td>
            <td>
                Converts payload to array.

            </td>
        </tr>
    </tbody>
</table>
<h2 id="JsonWebTokenPersistenceDriver">JsonWebTokenPersistenceDriver</h2>
<p>Encapsulates a PersistenceDriver that uses JsonWebToken to authenticate users.
</p>
<h3>Signature</h3>
<p>class JsonWebTokenPersistenceDriver extends <a href="#TokenPersistenceDriver">TokenPersistenceDriver</a> </p>
<h3>Methods</h3>
<table>
    <thead>
        <tr>
            <td>Method</td>
            <td>Arguments</td>
            <td>Returns</td>
            <td>Description</td>
        </tr>
    </thead>
    <tbody>

        <tr>
            <td>__construct</td>
            <td><i>string</i> $secret,<br/><i>number</i> $expirationTime,<br/><i>string</i> $regenerationTime
            </td>
            <td>
            </td>
            <td>
                Creates a persistence driver object.

            </td>
        </tr>
        <tr>
            <td>load</td>
            <td>
            </td>
            <td><i>mixed</i>
            </td>
            <td>
                Loads logged in user's unique identifier from driver.

<p><strong>Overrides</strong>: load() in class PersistenceDriver</p>
            </td>
        </tr>
        <tr>
            <td>save</td>
            <td><i>mixed</i> $userID
            </td>
            <td>
            </td>
            <td>
                Saves user's unique identifier into driver (eg: on login).

<p><strong>Overrides</strong>: save() in class PersistenceDriver</p>
            </td>
        </tr>
        <tr>
            <td>clear</td>
            <td>
            </td>
            <td>
            </td>
            <td>
                Removes user's unique identifier from driver (eg: on logout).
<p><strong>Overrides</strong>: clear() in class PersistenceDriver</p>
            </td>
        </tr>
    </tbody>
</table>
<h2 id="OAuth2Authentication">OAuth2Authentication</h2>
<p>Encapsulates authentication via an OAuth2 provider

</p>
<h3>Signature</h3>
<p>class OAuth2Authentication </p>
<h3>Methods</h3>
<table>
    <thead>
        <tr>
            <td>Method</td>
            <td>Arguments</td>
            <td>Returns</td>
            <td>Description</td>
        </tr>
    </thead>
    <tbody>

        <tr>
            <td>__construct</td>
            <td><i>OAuth2AuthenticationDAO</i> $dao,<br/><i>PersistenceDriver[]</i> $persistenceDrivers
            </td>
            <td>
            </td>
            <td>
                Creates an authentication object.

<p class="throws">Throws <i><a href="#AuthenticationException">AuthenticationException</a></i>: When persistence drivers are invalid.</p>
            </td>
        </tr>
        <tr>
            <td>login</td>
            <td><i>OAuth2Driver</i> $driver,<br/><i>string</i> $accessToken,<br/><i>boolean</i> $createUserIfNotExists
            </td>
            <td><i>OAuth2AuthenticationResult</i>
            </td>
            <td>
                Performs login by delegating to driver-specific OAuth2 implementation.


            </td>
        </tr>
        <tr>
            <td>logout</td>
            <td>
            </td>
            <td><i>OAuth2AuthenticationResult</i>
            </td>
            <td>
                Performs a logout operation:
- informs DAO that user has logged out (which must empty token)
- removes user id from persistence drivers (if any)

            </td>
        </tr>
    </tbody>
</table>
<h2 id="OAuth2AuthenticationDAO">OAuth2AuthenticationDAO</h2>
<p>Defines blueprints for a DAO that reflects oauth2 authentication results to database.
</p>
<h3>Signature</h3>
<p>interface OAuth2AuthenticationDAO </p>
<h3>Methods</h3>
<table>
    <thead>
        <tr>
            <td>Method</td>
            <td>Arguments</td>
            <td>Returns</td>
            <td>Description</td>
        </tr>
    </thead>
    <tbody>

        <tr>
            <td>login</td>
            <td><i>OAuth2UserInformation</i> $userInformation,<br/><i>string</i> $accessToken,<br/><i>string</i> $createIfNotExists
            </td>
            <td><i>mixed</i>
            </td>
            <td>
                Logs in OAuth2 user into current application. Exchanges authenticated OAuth2 user information for a local user ID.


            </td>
        </tr>
        <tr>
            <td>logout</td>
            <td><i>mixed</i> $userID
            </td>
            <td>
            </td>
            <td>
                Logs out local user and removes saved access token


            </td>
        </tr>
    </tbody>
</table>
<h2 id="OAuth2AuthenticationResult">OAuth2AuthenticationResult</h2>
<p>Encapsulates authentication response via oauth2 driver
</p>
<h3>Signature</h3>
<p>class OAuth2AuthenticationResult extends <a href="#AuthenticationResult">AuthenticationResult</a> </p>
<h3>Methods</h3>
<table>
    <thead>
        <tr>
            <td>Method</td>
            <td>Arguments</td>
            <td>Returns</td>
            <td>Description</td>
        </tr>
    </thead>
    <tbody>

        <tr>
            <td>setAccessToken</td>
            <td><i>string</i> $token
            </td>
            <td>
            </td>
            <td>
                Sets access token.

            </td>
        </tr>
        <tr>
            <td>getAccessToken</td>
            <td>
            </td>
            <td><i>string</i>
            </td>
            <td>
                Gets access token

            </td>
        </tr>
    </tbody>
</table>
<h2 id="OAuth2Driver">OAuth2Driver</h2>
<p>Defines driver to abstract OAuth2 operations required by Security API.
</p>
<h3>Signature</h3>
<p>interface OAuth2Driver </p>
<h3>Methods</h3>
<table>
    <thead>
        <tr>
            <td>Method</td>
            <td>Arguments</td>
            <td>Returns</td>
            <td>Description</td>
        </tr>
    </thead>
    <tbody>

        <tr>
            <td>getUserInformation</td>
            <td><i>string</i> $accessToken
            </td>
            <td><i>OAuth2UserInformation</i>
            </td>
            <td>
                Gets remote user information from oauth2 driver via access token.


            </td>
        </tr>
        <tr>
            <td>getDefaultScopes</td>
            <td>
            </td>
            <td><i>string[]</i>
            </td>
            <td>
                Gets authorization code scopes required by login operation.


            </td>
        </tr>
    </tbody>
</table>
<h2 id="OAuth2UserInformation">OAuth2UserInformation</h2>
<p>Encapsulates abstract information about remote logged in user on OAuth2 provider.
</p>
<h3>Signature</h3>
<p>interface OAuth2UserInformation </p>
<h3>Methods</h3>
<table>
    <thead>
        <tr>
            <td>Method</td>
            <td>Arguments</td>
            <td>Returns</td>
            <td>Description</td>
        </tr>
    </thead>
    <tbody>

        <tr>
            <td>getId</td>
            <td>
            </td>
            <td><i>integer</i>
            </td>
            <td>
                Gets remote user id.


            </td>
        </tr>
        <tr>
            <td>getName</td>
            <td>
            </td>
            <td><i>string</i>
            </td>
            <td>
                Gets remote user name.


            </td>
        </tr>
        <tr>
            <td>getEmail</td>
            <td>
            </td>
            <td><i>string</i>
            </td>
            <td>
                Gets remote user email.


            </td>
        </tr>
    </tbody>
</table>
<h2 id="PageAuthorizationDAO">PageAuthorizationDAO</h2>
<p>Defines blueprints for a DAO that checks requested page access levels in database.
</p>
<h3>Signature</h3>
<p>abstract class PageAuthorizationDAO </p>
<h3>Methods</h3>
<table>
    <thead>
        <tr>
            <td>Method</td>
            <td>Arguments</td>
            <td>Returns</td>
            <td>Description</td>
        </tr>
    </thead>
    <tbody>

        <tr>
            <td>__construct</td>
            <td><i>string</i> $pageURL
            </td>
            <td>
            </td>
            <td>
                Saves detected database ID of page requested


            </td>
        </tr>
        <tr>
            <td>detectID</td>
            <td><i>string</i> $pageURL
            </td>
            <td><i>integer</i>
            </td>
            <td>
                Detects database ID of page requested.
<p><strong>Access modifiers</strong>: abstract, protected</p>
            </td>
        </tr>
        <tr>
            <td>isPublic</td>
            <td>
            </td>
            <td><i>boolean</i>
            </td>
            <td>
                Checks if current page does not require being logged in based on detected ID.

<p><strong>Access modifiers</strong>: abstract</p>
            </td>
        </tr>
        <tr>
            <td>getID</td>
            <td>
            </td>
            <td><i>integer</i>
            </td>
            <td>
                Gets detected id of page requested


            </td>
        </tr>
    </tbody>
</table>
<h2 id="PersistenceDriver">PersistenceDriver</h2>
<p>Defines blueprints for a driver able to persist user logged in state across requests.
</p>
<h3>Signature</h3>
<p>interface PersistenceDriver </p>
<h3>Methods</h3>
<table>
    <thead>
        <tr>
            <td>Method</td>
            <td>Arguments</td>
            <td>Returns</td>
            <td>Description</td>
        </tr>
    </thead>
    <tbody>

        <tr>
            <td>load</td>
            <td>
            </td>
            <td><i>mixed</i>
            </td>
            <td>
                Loads logged in user's unique identifier from driver.


            </td>
        </tr>
        <tr>
            <td>save</td>
            <td><i>mixed</i> $userID
            </td>
            <td>
            </td>
            <td>
                Saves user's unique identifier into driver (eg: on login).


            </td>
        </tr>
        <tr>
            <td>clear</td>
            <td>
            </td>
            <td>
            </td>
            <td>
                Removes user's unique identifier from driver (eg: on logout).

            </td>
        </tr>
    </tbody>
</table>
<h2 id="RememberMePersistenceDriver">RememberMePersistenceDriver</h2>
<p>Encapsulates a driver that persists unique user identifier into a crypted &quot;remember me&quot; cookie variable.
</p>
<h3>Signature</h3>
<p>class RememberMePersistenceDriver implements <a href="#PersistenceDriver">PersistenceDriver</a> </p>
<h3>Methods</h3>
<table>
    <thead>
        <tr>
            <td>Method</td>
            <td>Arguments</td>
            <td>Returns</td>
            <td>Description</td>
        </tr>
    </thead>
    <tbody>

        <tr>
            <td>__construct</td>
            <td><i>string</i> $secret,<br/><i>string</i> $parameterName,<br/><i>number</i> $expirationTime,<br/><i>string</i> $isHttpOnly,<br/><i>string</i> $isSecure,<br/><i>string</i> $ip
            </td>
            <td>
            </td>
            <td>
                Creates a persistence driver object.


            </td>
        </tr>
        <tr>
            <td>load</td>
            <td>
            </td>
            <td><i>mixed</i>
            </td>
            <td>
                Loads logged in user's unique identifier from driver.

<p><strong>Overrides</strong>: load() in class PersistenceDriver</p>
            </td>
        </tr>
        <tr>
            <td>save</td>
            <td><i>mixed</i> $userID
            </td>
            <td>
            </td>
            <td>
                Saves user's unique identifier into driver (eg: on login).

<p><strong>Overrides</strong>: save() in class PersistenceDriver</p>
            </td>
        </tr>
        <tr>
            <td>clear</td>
            <td>
            </td>
            <td>
            </td>
            <td>
                Removes user's unique identifier from driver (eg: on logout).
<p><strong>Overrides</strong>: clear() in class PersistenceDriver</p>
            </td>
        </tr>
    </tbody>
</table>
<h2 id="SecurityException">SecurityException</h2>
<p>Exception thrown when someone attempts to hack through web security layer your site provides.
</p>
<h3>Signature</h3>
<p>class SecurityException extends <a href="http://php.net/manual/ro/class.exception.php" target="_blank">\Exception</a> </p>
<h2 id="SessionHijackException">SessionHijackException</h2>
<p>Exception thrown when someone attempts to hack your site.
</p>
<h3>Signature</h3>
<p>class SessionHijackException extends <a href="#SecurityException">SecurityException</a> </p>
<h2 id="SessionPersistenceDriver">SessionPersistenceDriver</h2>
<p>Encapsulates a driver that persists unique user identifier into sessions.
</p>
<h3>Signature</h3>
<p>class SessionPersistenceDriver implements <a href="#PersistenceDriver">PersistenceDriver</a> </p>
<h3>Methods</h3>
<table>
    <thead>
        <tr>
            <td>Method</td>
            <td>Arguments</td>
            <td>Returns</td>
            <td>Description</td>
        </tr>
    </thead>
    <tbody>

        <tr>
            <td>__construct</td>
            <td><i>string</i> $parameterName,<br/><i>number</i> $expirationTime,<br/><i>string</i> $isHttpOnly,<br/><i>string</i> $isSecure,<br/><i>string</i> $ip
            </td>
            <td>
            </td>
            <td>
                Creates a persistence driver object.

            </td>
        </tr>
        <tr>
            <td>load</td>
            <td>
            </td>
            <td><i>mixed</i>
            </td>
            <td>
                Loads logged in user's unique identifier from driver.

<p><strong>Overrides</strong>: load() in class PersistenceDriver</p>
            </td>
        </tr>
        <tr>
            <td>save</td>
            <td><i>mixed</i> $userID
            </td>
            <td>
            </td>
            <td>
                Saves user's unique identifier into driver (eg: on login).

<p><strong>Overrides</strong>: save() in class PersistenceDriver</p>
            </td>
        </tr>
        <tr>
            <td>clear</td>
            <td>
            </td>
            <td>
            </td>
            <td>
                Removes user's unique identifier from driver (eg: on logout).
<p><strong>Overrides</strong>: clear() in class PersistenceDriver</p>
            </td>
        </tr>
    </tbody>
</table>
<h2 id="SynchronizerTokenPersistenceDriver">SynchronizerTokenPersistenceDriver</h2>
<p>Encapsulates a PersistenceDriver that employs SynchronizerToken to authenticate users.
</p>
<h3>Signature</h3>
<p>class SynchronizerTokenPersistenceDriver extends <a href="#TokenPersistenceDriver">TokenPersistenceDriver</a> </p>
<h3>Methods</h3>
<table>
    <thead>
        <tr>
            <td>Method</td>
            <td>Arguments</td>
            <td>Returns</td>
            <td>Description</td>
        </tr>
    </thead>
    <tbody>

        <tr>
            <td>__construct</td>
            <td><i>string</i> $secret,<br/><i>number</i> $expirationTime,<br/><i>string</i> $regenerationTime,<br/><i>string</i> $ip
            </td>
            <td>
            </td>
            <td>
                Creates a persistence driver object.

            </td>
        </tr>
        <tr>
            <td>load</td>
            <td>
            </td>
            <td><i>mixed</i>
            </td>
            <td>
                Loads logged in user's unique identifier from driver.

<p><strong>Overrides</strong>: load() in class PersistenceDriver</p>
            </td>
        </tr>
        <tr>
            <td>save</td>
            <td><i>mixed</i> $userID
            </td>
            <td>
            </td>
            <td>
                Saves user's unique identifier into driver (eg: on login).

<p><strong>Overrides</strong>: save() in class PersistenceDriver</p>
            </td>
        </tr>
        <tr>
            <td>clear</td>
            <td>
            </td>
            <td>
            </td>
            <td>
                Removes user's unique identifier from driver (eg: on logout).
<p><strong>Overrides</strong>: clear() in class PersistenceDriver</p>
            </td>
        </tr>
    </tbody>
</table>
<h2 id="TokenException">TokenException</h2>
<p>Exception thrown when token fails validation.
</p>
<h3>Signature</h3>
<p>class TokenException extends <a href="#SecurityException">SecurityException</a> </p>
<h2 id="TokenExpiredException">TokenExpiredException</h2>
<p>Exception thrown when token expires.
</p>
<h3>Signature</h3>
<p>class TokenExpiredException extends <a href="http://php.net/manual/ro/class.exception.php" target="_blank">\Exception</a> </p>
<h2 id="TokenPersistenceDriver">TokenPersistenceDriver</h2>
<p>Encapsulates a driver that persists unique user identifier into a crypted self-regenerating token that
must be sent by clients via Authorization header of bearer type.
</p>
<h3>Signature</h3>
<p>abstract class TokenPersistenceDriver implements <a href="#PersistenceDriver">PersistenceDriver</a> </p>
<h3>Methods</h3>
<table>
    <thead>
        <tr>
            <td>Method</td>
            <td>Arguments</td>
            <td>Returns</td>
            <td>Description</td>
        </tr>
    </thead>
    <tbody>

        <tr>
            <td>setAccessToken</td>
            <td>
            </td>
            <td>
            </td>
            <td>
                Sets access token value based on contents of HTTP authorization header of "bearer" type

            </td>
        </tr>
        <tr>
            <td>getAccessToken</td>
            <td>
            </td>
            <td><i>string</i>
            </td>
            <td>
                Gets access token value.


            </td>
        </tr>
    </tbody>
</table>
<h2 id="TokenRegenerationException">TokenRegenerationException</h2>
<p>Exception thrown when token needs to be refreshed.
</p>
<h3>Signature</h3>
<p>class TokenRegenerationException extends <a href="http://php.net/manual/ro/class.exception.php" target="_blank">\Exception</a> </p>
<h3>Methods</h3>
<table>
    <thead>
        <tr>
            <td>Method</td>
            <td>Arguments</td>
            <td>Returns</td>
            <td>Description</td>
        </tr>
    </thead>
    <tbody>

        <tr>
            <td>setPayload</td>
            <td><i>mixed</i> $payload
            </td>
            <td>
            </td>
            <td>
                Sets payload to use in regeneration.

            </td>
        </tr>
        <tr>
            <td>getPayload</td>
            <td>
            </td>
            <td><i>mixed</i>
            </td>
            <td>
                Gets payload that was used in regeneration.

            </td>
        </tr>
    </tbody>
</table>
<h2 id="UserAuthenticationDAO">UserAuthenticationDAO</h2>
<p>Defines blueprints for a DAO that forwards user-password authentication to database.
</p>
<h3>Signature</h3>
<p>interface UserAuthenticationDAO </p>
<h3>Methods</h3>
<table>
    <thead>
        <tr>
            <td>Method</td>
            <td>Arguments</td>
            <td>Returns</td>
            <td>Description</td>
        </tr>
    </thead>
    <tbody>

        <tr>
            <td>login</td>
            <td><i>string</i> $username,<br/><i>string</i> $password
            </td>
            <td><i>mixed</i>
            </td>
            <td>
                Performs a login operation in DB


            </td>
        </tr>
        <tr>
            <td>logout</td>
            <td><i>mixed</i> $userID
            </td>
            <td>
            </td>
            <td>
                Performs a logout operation in DB


            </td>
        </tr>
    </tbody>
</table>
<h2 id="UserAuthorizationDAO">UserAuthorizationDAO</h2>
<p>Defines blueprints for a DAO that checks logged in user's access levels in database.
</p>
<h3>Signature</h3>
<p>abstract class UserAuthorizationDAO </p>
<h3>Methods</h3>
<table>
    <thead>
        <tr>
            <td>Method</td>
            <td>Arguments</td>
            <td>Returns</td>
            <td>Description</td>
        </tr>
    </thead>
    <tbody>

        <tr>
            <td>__construct</td>
            <td><i>mixed</i> $userID
            </td>
            <td>
            </td>
            <td>
                UserAuthorizationDAO constructor.

            </td>
        </tr>
        <tr>
            <td>isAllowed</td>
            <td><i><a href="#PageAuthorizationDAO">PageAuthorizationDAO</a></i> $page,<br/><i>string</i> $httpRequestMethod
            </td>
            <td><i>boolean</i>
            </td>
            <td>
                Checks if current user is allowed to access a page.

<p><strong>Access modifiers</strong>: abstract</p>
            </td>
        </tr>
        <tr>
            <td>getID</td>
            <td>
            </td>
            <td><i>integer</i>
            </td>
            <td>
                Gets saved id of logged in user

            </td>
        </tr>
    </tbody>
</table>
<h2 id="XMLAuthentication">XMLAuthentication</h2>
<p>Encapsulates authentication via XML ACL
</p>
<h3>Signature</h3>
<p>class XMLAuthentication </p>
<h3>Methods</h3>
<table>
    <thead>
        <tr>
            <td>Method</td>
            <td>Arguments</td>
            <td>Returns</td>
            <td>Description</td>
        </tr>
    </thead>
    <tbody>

        <tr>
            <td>__construct</td>
            <td><i>\SimpleXMLElement</i> $xml,<br/><i>PersistenceDriver[]</i> $persistenceDrivers
            </td>
            <td>
            </td>
            <td>
                Creates a form authentication object.
<p class="throws">Throws <i><a href="#AuthenticationException">AuthenticationException</a></i>: If one of persistenceDrivers entries is not a PersistentDriver</p>
            </td>
        </tr>
        <tr>
            <td>login</td>
            <td><i>string</i> $username,<br/><i>string</i> $password
            </td>
            <td><i><a href="#AuthenticationResult">AuthenticationResult</a></i>
            </td>
            <td>
                Performs a login operation:
- queries XML for an user id based on credentials
- saves user_id in persistence drivers (if any)
<p class="throws">Throws <i><a href="#AuthenticationException">AuthenticationException</a></i>: If POST parameters are invalid.</p>
            </td>
        </tr>
        <tr>
            <td>logout</td>
            <td>
            </td>
            <td><i><a href="#AuthenticationResult">AuthenticationResult</a></i>
            </td>
            <td>
                Performs a logout operation:
- removes user id from persistence drivers (if any)

            </td>
        </tr>
    </tbody>
</table>
<h2 id="XMLAuthorization">XMLAuthorization</h2>
<p>Encapsulates request authorization via XML that must have routes configured as:
&lt;routes&gt;
&lt;route url=&quot;{PAGE_TO_AUTHORIZE&quot; access=&quot;ROLE_GUEST|ROLE_USER&quot; ... /&gt;
...
&lt;/routes&gt;
</p>
<h3>Signature</h3>
<p>class XMLAuthorization </p>
<h3>Methods</h3>
<table>
    <thead>
        <tr>
            <td>Method</td>
            <td>Arguments</td>
            <td>Returns</td>
            <td>Description</td>
        </tr>
    </thead>
    <tbody>

        <tr>
            <td>__construct</td>
            <td><i>string</i> $loggedInFailureCallback,<br/><i>string</i> $loggedOutFailureCallback
            </td>
            <td>
            </td>
            <td>
                Creates an object

            </td>
        </tr>
        <tr>
            <td>authorize</td>
            <td><i>\SimpleXMLElement</i> $xml,<br/><i>string</i> $routeToAuthorize,<br/><i>integer</i> $userID
            </td>
            <td><i><a href="#AuthorizationResult">AuthorizationResult</a></i>
            </td>
            <td>
                Performs an authorization task.

<p class="throws">Throws <i><a href="#AuthorizationException">AuthorizationException</a></i>: If route is misconfigured.</p>
            </td>
        </tr>
    </tbody>
</table>